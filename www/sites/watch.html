<!DOCTYPE HTML>
<head>
    <script src="../js/jquery-1.11.2.min.js"></script>
    <script type="text/javascript">
        var watchID;
        var geoLoc;
        function showLocation(position) {
            var latitude = position.coords.latitude;
            var longitude = position.coords.longitude;
            $('#output').append("Longitude: " + longitude + " Latitude: " + latitude + "<br>");
        }
        function errorHandler(err) {
            if(err.code == 1) {
                alert("Error: Access is denied!");
            }else if( err.code == 2) {
                alert("Error: Position is unavailable!");
            }
        }
        options = {
            enableHighAccuracy: true,
            timeout: 5000,
            maximumAge: 1000
        };
        function getLocationUpdate(){
            if(navigator.geolocation){
                // timeout at 20000 milliseconds (20 seconds)
                geoLoc = navigator.geolocation;
                watchID = geoLoc.watchPosition(showLocation, errorHandler, options);
            }else{
                alert("Sorry, browser does not support geolocation!");
            }
        }

        function stopWatching(watchID){
            navigator.geolocation.clearWatch(watchID);
            alert("Watching stopped");
        }
    </script>
</head>
<html>
<body>
<form>
    <button type="button" onclick="getLocationUpdate();"
           value="Watch Update">Watch my Position</button>
    <button type="button" onclick="stopWatching();"
            value="Stop Update">Stop watching my Position</button>
    <div id="output" style="margin-top: 10px"></div>
</form>
</body>
</html>